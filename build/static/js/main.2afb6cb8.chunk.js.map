{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","handler","onChange","PersonForm","onSubmit","onNameChange","onNumberChange","name","number","type","Person","person","handleDeletePerson","onClick","Persons","persons","map","id","Notification","message","className","level","baseUrl","axios","get","then","response","data","catch","error","console","log","post","delete","status","changes","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","personServices","flashMessage","messageObject","setTimeout","event","target","preventDefault","p","includes","find","window","confirm","filter","updatePerson","toLowerCase","search","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAQeA,EANA,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,QAAT,OACb,sDACqB,uBAAOC,SAAUD,EAASD,MAAOA,QCkBzCG,EApBI,SAAC,GAAD,IACjBC,EADiB,EACjBA,SACAC,EAFiB,EAEjBA,aACAC,EAHiB,EAGjBA,eACAC,EAJiB,EAIjBA,KACAC,EALiB,EAKjBA,OALiB,OAOjB,uBAAMJ,SAAUA,EAAhB,UACE,yCACQ,uBAAOF,SAAUG,EAAcL,MAAOO,OAE9C,2CACU,uBAAOL,SAAUI,EAAgBN,MAAOQ,OAElD,8BACE,wBAAQC,KAAK,SAAb,uBCfAC,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,mBAAX,OACb,8BACGD,EAAOJ,KADV,KACkBI,EAAOH,OACvB,wBAAQK,QAAS,kBAAMD,EAAmBD,IAA1C,wBAcWG,EARC,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASH,EAAZ,EAAYA,mBAAZ,OACd,8BACGG,EAAQC,KAAI,SAACL,GAAD,OACX,cAAC,EAAD,CAAwBA,OAAQA,EAAQC,mBAAoBA,GAA/CD,EAAOM,UCJXC,EARM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAGF,qBAAKC,UAAWD,EAAQE,MAAxB,SAAgCF,EAAQA,W,gBCL3CG,EAAU,eAsCD,EApCA,kBACbC,IACGC,IAAIF,GACJG,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BC,OAAM,SAACC,GAEN,MADAC,QAAQC,IAAIF,GACNA,MA8BG,EA3BA,SAAClB,GAAD,OACbY,IACGS,KAAKV,EAASX,GACdc,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BC,OAAM,SAACC,GAEN,MADAC,QAAQC,IAAIF,GACNA,MAqBG,EAlBA,SAACZ,GAAD,OACbM,IACGU,OADH,UACaX,EADb,YACwBL,IACrBQ,MAAK,SAACC,GAAD,OAAcA,EAASQ,UAC5BN,OAAM,SAACC,GAEN,MADAC,QAAQC,IAAIF,GACNA,MAYG,EATA,SAACZ,EAAIkB,GAAL,OACbZ,IACGa,IADH,UACUd,EADV,YACqBL,GAAMkB,GACxBV,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BC,OAAM,SAACC,GAEN,MADAC,QAAQC,IAAIF,GACNA,MC0FGQ,EAxHH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTvB,EADS,KACAwB,EADA,OAEcD,mBAAS,IAFvB,mBAETE,EAFS,KAEAC,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTI,EAHS,KAGEC,EAHF,OAIkBL,mBAAS,IAJ3B,mBAITM,EAJS,KAIEC,EAJF,OAKcP,mBAAS,MALvB,mBAKTnB,EALS,KAKA2B,EALA,KAOhBC,qBAAU,WACRC,IAAwBvB,MAAK,SAACE,GAAD,OAAUY,EAAWZ,QACjD,IAEH,IAAMsB,EAAe,SAACC,GACpBJ,EAAWI,GACXC,YAAW,WACTL,EAAW,QACV,MA8EL,OACE,gCACE,2CACA,cAAC,EAAD,CAAc3B,QAASA,IAEvB,cAAC,EAAD,CAAQnB,MAAO4C,EAAW3C,QAzBP,SAACmD,GACtBP,EAAaO,EAAMC,OAAOrD,UA0BxB,2CACA,cAAC,EAAD,CACEI,SArDW,SAACgD,GAChBA,EAAME,iBACFvC,EAAQC,KAAI,SAACuC,GAAD,OAAOA,EAAEhD,QAAMiD,SAAShB,GAjCrB,WACnB,IAAMa,EAAStC,EAAQ0C,MAAK,SAAC9C,GAAD,OAAYA,EAAOJ,OAASiC,KAClDL,EAAU,CAAE5B,KAAMiC,EAAShC,OAAQkC,GAE1BgB,OAAOC,QAAP,UACVN,EAAO9C,KADG,kFAQfyC,EACUK,EAAOpC,GAAIkB,GAClBV,MAAK,SAACE,GACLY,EACExB,EAAQC,KAAI,SAACL,GAAD,OAAaA,EAAOM,KAAOoC,EAAOpC,GAAKN,EAASgB,MAE9Dc,EAAW,IACXE,EAAa,IACbM,EAAa,CAAE9B,QAAQ,WAAD,OAAaQ,EAAKpB,MAAQc,MAAO,YAExDO,OAAM,SAACC,GACNoB,EAAa,CACX9B,QAAQ,GAAD,OAAKkC,EAAO9C,KAAZ,yCACPc,MAAO,UAETkB,EAAWxB,EAAQ6C,QAAO,SAACjD,GAAD,OAAYA,EAAOM,KAAOoC,EAAOpC,UAO7D4C,GAEAb,EACU,CAAEzC,KAAMiC,EAAShC,OAAQkC,IAChCjB,MAAK,SAACE,GACLY,EAAW,GAAD,mBAAKxB,GAAL,CAAcY,KACxBc,EAAW,IACXE,EAAa,IACbM,EAAa,CAAE9B,QAAQ,SAAD,OAAWQ,EAAKpB,MAAQc,MAAO,aA2CvDhB,aAtCe,SAAC+C,GACpBX,EAAWW,EAAMC,OAAOrD,QAsCpBO,KAAMiC,EACNlC,eApCiB,SAAC8C,GACtBT,EAAaS,EAAMC,OAAOrD,QAoCtBQ,OAAQkC,IAGV,yCACA,cAAC,EAAD,CACE3B,QAASA,EAAQ6C,QACf,SAACjD,GAAD,OAAYA,EAAOJ,KAAKuD,cAAcC,OAAOnB,IAAc,KAE7DhC,mBArCqB,SAACD,GACX+C,OAAOC,QAAP,iBAAyBhD,EAAOJ,KAAhC,OAMfyC,EAAsBrC,EAAOM,IAAIQ,MAAK,SAACS,GACrC,GAAe,MAAXA,EAAgB,CAClB,IAAM8B,EAAajD,EAAQ6C,QAAO,SAACL,GAAD,OAAOA,EAAEtC,KAAON,EAAOM,MACzDsB,EAAWyB,GACXf,EAAa,CAAE9B,QAAQ,WAAD,OAAaR,EAAOJ,MAAQc,MAAO,oB,MC1FjE4C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2afb6cb8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, handler}) => (\n  <div>\n    filter shown with: <input onChange={handler} value={value}/>\n  </div>\n)\n\nexport default Filter\n","import React from \"react\";\n\nconst PersonForm = ({\n  onSubmit,\n  onNameChange,\n  onNumberChange,\n  name,\n  number,\n}) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      name: <input onChange={onNameChange} value={name} />\n    </div>\n    <div>\n      number: <input onChange={onNumberChange} value={number} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ person, handleDeletePerson }) => (\n  <p>\n    {person.name}: {person.number}\n    <button onClick={() => handleDeletePerson(person)}>\n      delete\n    </button>\n  </p>\n);\n\nconst Persons = ({ persons, handleDeletePerson }) => (\n  <div>\n    {persons.map((person) => (\n      <Person key={person.id} person={person} handleDeletePerson={handleDeletePerson} />\n    ))}\n  </div>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className={message.level}>{message.message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () =>\n  axios\n    .get(baseUrl)\n    .then((response) => response.data)\n    .catch((error) => {\n      console.log(error)\n      throw error\n    });\n\nconst create = (person) =>\n  axios\n    .post(baseUrl, person)\n    .then((response) => response.data)\n    .catch((error) => {\n      console.log(error)\n      throw error\n    });\n\nconst remove = (id) =>\n  axios\n    .delete(`${baseUrl}/${id}`)\n    .then((response) => response.status)\n    .catch((error) => {\n      console.log(error)\n      throw error\n    });\n\nconst update = (id, changes) =>\n  axios\n    .put(`${baseUrl}/${id}`, changes)\n    .then((response) => response.data)\n    .catch((error) => {\n      console.log(error)\n      throw error\n    });\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n};\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Notification from \"./Notification\";\nimport personServices from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personServices.getAll().then((data) => setPersons(data));\n  }, []);\n\n  const flashMessage = (messageObject) => {\n    setMessage(messageObject);\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n\n  const updatePerson = () => {\n    const target = persons.find((person) => person.name === newName);\n    const changes = { name: newName, number: newNumber };\n\n    const result = window.confirm(\n      `${target.name} is already added to the phonebook, replace the old number with the new one?`\n    );\n\n    if (!result) {\n      return;\n    }\n\n    personServices\n      .update(target.id, changes)\n      .then((data) => {\n        setPersons(\n          persons.map((person) => (person.id !== target.id ? person : data))\n        );\n        setNewName(\"\");\n        setNewNumber(\"\");\n        flashMessage({ message: `Updated ${data.name}`, level: \"info\" });\n      })\n      .catch((error) => {\n        flashMessage({\n          message: `${target.name} has already been removed from server`,\n          level: \"error\",\n        });\n        setPersons(persons.filter((person) => person.id !== target.id));\n      });\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    if (persons.map((p) => p.name).includes(newName)) {\n      updatePerson();\n    } else {\n      personServices\n        .create({ name: newName, number: newNumber })\n        .then((data) => {\n          setPersons([...persons, data]);\n          setNewName(\"\");\n          setNewNumber(\"\");\n          flashMessage({ message: `Added ${data.name}`, level: \"info\" });\n        })\n    }\n  };\n\n  const onNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const onNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const onFilterChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const handleDeletePerson = (person) => {\n    const result = window.confirm(`Delete ${person.name}?`);\n\n    if (!result) {\n      return;\n    }\n\n    personServices.remove(person.id).then((status) => {\n      if (status === 204) {\n        const newPersons = persons.filter((p) => p.id !== person.id);\n        setPersons(newPersons);\n        flashMessage({ message: `Deleted ${person.name}`, level: \"info\" });\n      }\n    });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n\n      <Filter value={newFilter} handler={onFilterChange} />\n\n      <h2>Add a new</h2>\n      <PersonForm\n        onSubmit={onSubmit}\n        onNameChange={onNameChange}\n        name={newName}\n        onNumberChange={onNumberChange}\n        number={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons.filter(\n          (person) => person.name.toLowerCase().search(newFilter) >= 0\n        )}\n        handleDeletePerson={handleDeletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}